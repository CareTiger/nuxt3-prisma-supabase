generator client {
    provider        = "prisma-client-js"
    previewFeatures = ["fullTextSearch"]
}

datasource db {
    provider  = "postgresql"
    url       = env("DATABASE_URL")
    directUrl = env("DIRECT_URL")
}

model user {
    id             Int             @id @default(autoincrement())
    user_id        String          @unique
    email          String          @unique
    username       String?         @unique
    avatar_url     String?
    background_url String?
    full_name      String?
    private        Boolean         @default(false)
    notifications  notifications[]
    todos          todos[]
    created_at     DateTime        @default(now())
    updated_at     DateTime        @updatedAt
    role           role            @default(USER)
}

enum role {
    USER
    ADMIN
}

model notifications {
    id         Int      @id @default(autoincrement())
    type       String
    message    String
    read       Boolean  @default(false)
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt
    user       user     @relation(fields: [user_id], references: [user_id])
    user_id    String
}

model todos {
    id         Int      @id @default(autoincrement())
    title      String
    completed  Boolean  @default(false)
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt
    user       user     @relation(fields: [user_id], references: [user_id])
    user_id    String
}
